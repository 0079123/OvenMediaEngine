<?xml version="1.0" encoding="UTF-8" ?>

<Server version="3">
	<Name>OvenMediaEngine</Name>
	<Hosts>
		<Host>
			<Name>default</Name>
			<!-- Host type (origin/edge) -->
			<Type>edge</Type>
			<!-- Specify IP address to bind (* means all IPs) -->
			<IP>*</IP>

			<!-- Settings for multi domain and TLS -->
			<Domain>
				<Names>
					<Name>stream1.airensoft.com</Name>
					<Name>stream2.airensoft.com</Name>
					<Name>stream3.airensoft.com</Name>
					<Name>*.airensoft.com</Name>
				</Names>
				<!--
                <TLS>
                    <CertPath>path/to/file.crt</CertPath>
                    <KeyPath>path/to/file.key</KeyPath>
                    <ChainCertPath>path/to/file.crt</ChainCertPath>
                </TLS>
            	-->
			</Domain>

			<!-- Settings for the ports to bind -->
			<Bind>
				<Providers>
					<OVT>${env:OME_OVT_PROV_PORT:9000}</OVT>
					<RTMP>${env:OME_RTMP_PROV_PORT:1935}</RTMP>
				</Providers>

				<Publishers>
					<HLS>${env:OME_HLS_PUB_PORT:80}</HLS>
					<DASH>${env:OME_DASH_PUB_PORT:80}</DASH>
					<WebRTC>
						<Signalling>${env:OME_SIGNALLING_PORT:3333}</Signalling>
						<IceCandidates>
							<IceCandidate>${env:OME_ICE_CANDIDATES:*:10000-10005/udp}</IceCandidate>
						</IceCandidates>
					</WebRTC>
				</Publishers>
			</Bind>

			<!-- Settings for ProxyPass (It can specify origin for each path) -->
			<Origins>
				<Origin>
					<Location>/app/stream3</Location>
					<Pass>
						<Scheme>rtsp</Scheme>
						<Url>origin3.airensoft.com:9000/app3/stream3</Url>
						<Url>origin4.airensoft.com:9000/app3/stream3</Url>
					</Pass>
				</Origin>
				<Origin>
					<Location>/app</Location>
					<Pass>
						<Url>origin2.airensoft.com:9000/app2</Url>
					</Pass>
				</Origin>
				<Origin>
					<Location>default</Location>
					<Pass>
						<Url>origin1.airensoft.com:9000</Url>
					</Pass>
				</Origin>
			</Origins>
		</Host>
	</Hosts>
</Server>